---
title: MacBook ProのTouch barが映らなくなって壊れたかと思った話
date: 2019-02-12 13:55:17
tags:
---

カフェでMacを開いたら、突然Touch Barが映らなくなり、故障かと思ったところなんか直ったのでメモ。

<!-- more -->

# 発生

カフェでMacを開いたらTouch barが表示されていませんでした。
ちょうどディスク容量アラートも表示されていたのでその辺でなにかあったのかもしれません。

とりあえず

- 再起動
- `killall -9 TouchBarServer`

を試したが効果はありませんでした。

また、別にタッチをすれば反応するので、別にEscキーとミュートさえできればいいしそんなに困らないな…と思っていました。
XcodeのWindow→Show Touch barで表示される仮想Touch barはちゃんと表示され、物理Touch barを操作したらそちらにも反映されていました。

# 解決

ふと、検証用に別ボリュームを切って入れてある英語設定のmacOSの存在を思い出しました。
さっそくそちらで起動してみたところ、無事にTouch barが表示されました。
もう一度メインのmacOSで起動してみたところ、そちらでもTouch barが表示されたので、これにて一件落着ということにしました。

# 考察

- disk full未遂のせいで何らかが死んだ?
- 別ボリュームのmacOSを起動する際にFileVaultの複合化処理のあたりで画面が乱れたのが気になる
    - そのへんで画面描画の何かがクリアされたので動いた説
- ともかく、修理に出すハメにならなくてよかった