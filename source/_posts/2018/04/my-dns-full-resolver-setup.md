---
title: NTTがついにブロッキングを表明したので、自前でDNSフルリゾルバを立ててみる
date: 2018-04-23 15:27:17
tags:
---

[ニュース 2018年4月23日:インターネット上の海賊版サイトに対するブロッキングの実施について | NTT Com 企業情報 | NTTコミュニケーションズ 企業情報](https://www.ntt.com/about-us/press-releases/news/article/2018/0423.html)

ついにNTTがブロッキングを表明してしまったので、ブロッキングに対抗するために自前でDNSフルリゾルバを立ててみます。

<!-- more -->

なぜDNSフルリゾルバを立てるのかと言うと、

- IPアドレスのブロッキングは関係ないサイトまでブロックしてしまうことがある(特にCloudflareを使っているため。他の国にはそういう事例があった)
- ということはISPが提供しているDNSサーバーでブロックするのではないか (以前児童ポルノをブロックした際も同様にDNSでブロックしていた)
- つまりDNSフルリゾルバを自前で立てれば回避できる

という考えからです。

そもそも私は例に上げられているような違法サイトを利用していないので今回の件で不便になるということはありませんが、私の場合DNSフルリゾルバを立てることでブロッキング回避にもさまざまな利益があることが予測されるので、せっかくならとDNSフルリゾルバを立てることにしました。

今回は簡易NASとして24時間動いているRaspberry Pi 2(ディストリはRaspbian Stretch 9.4)にBIND9をインストールしてDNSフルリゾルバとします。

## セットアップ

```sh
sudo apt install bind9
sudo systemctl start bind9
```

なんかこれだけでできてしまって書く事がなくなってしまった。あとは適当にRaspberry PiのIPアドレスをPC等に設定するだけです。

**注意: DNSサーバーを安易にインターネットに公開するとSYN flooding等でDDoSの踏み台にされることがあるので気を付けましょう。通常用途ならインターネットに公開しなくてもLAN内に公開するだけ(必要に応じて+VPNで外から接続)で十分なはずです**